<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Symulacja Koła - Realtime</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <!-- Glowny naglowek -->
    <h1 style="text-align: center">Symulacja Koła w czasie rzeczywistym</h1>

    <!-- Nastawy regulatora PID -->
    <h2 style="text-align: center">Nastawy regulatora PID</h2>

    <!-- Suwak Kp -->
    <div
      style="
        width: 800px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        margin-bottom: 20px;
      "
    >
      <label for="kpSlider" style="width: 270px; margin-right: 10px">
        Wzmocnienie proporcjonalne (Kp): <span id="kpVal">0</span>
      </label>
      <input
        type="range"
        id="kpSlider"
        min="0"
        max="20"
        step="0.1"
        value="0"
        style="flex: 1"
      />
    </div>

    <!-- Suwak Ki -->
    <div
      style="
        width: 800px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        margin-bottom: 20px;
      "
    >
      <label for="kiSlider" style="width: 270px; margin-right: 10px">
        Wzmocnienie całkujące (Ki): <span id="kiVal">0</span>
      </label>
      <input
        type="range"
        id="kiSlider"
        min="0"
        max="20"
        step="0.1"
        value="0"
        style="flex: 1"
      />
    </div>

    <!-- Suwak Kd -->
    <div
      style="
        width: 800px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        margin-bottom: 20px;
      "
    >
      <label for="kdSlider" style="width: 270px; margin-right: 10px">
        Wzmocnienie różniczkujące (Kd): <span id="kdVal">0</span>
      </label>
      <input
        type="range"
        id="kdSlider"
        min="0"
        max="1"
        step="0.01"
        value="0"
        style="flex: 1"
      />
    </div>

    <hr style="width: 800px; margin-bottom: 20px" />

    <!-- Nastawy regulatora rozmytego -->
    <h2 style="text-align: center; margin-top: 40px">
      Nastawy regulatora rozmytego
    </h2>

    <!-- Suwak Ke -->
    <div
      style="
        width: 800px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        margin-bottom: 20px;
      "
    >
      <label style="width: 270px; margin-right: 10px">
        Wzmocnienie uchybu (Ke): <span id="keVal">1</span>
      </label>
      <input
        type="range"
        id="keSlider"
        min="0"
        max="5"
        step="0.1"
        value="0"
        style="flex: 1"
      />
    </div>

    <!-- Suwak Kde -->
    <div
      style="
        width: 800px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        margin-bottom: 20px;
      "
    >
      <label style="width: 270px; margin-right: 10px">
        Wzmocnienie zmiany uchybu (Kde): <span id="kdeVal">1</span>
      </label>
      <input
        type="range"
        id="kdeSlider"
        min="0"
        max="5"
        step="0.1"
        value="0"
        style="flex: 1"
      />
    </div>

    <!-- Suwak Ku -->
    <div
      style="
        width: 800px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        margin-bottom: 20px;
      "
    >
      <label style="width: 270px; margin-right: 10px">
        Wzmocnienie wyjścia (Ku): <span id="kuVal">1</span>
      </label>
      <input
        type="range"
        id="kuSlider"
        min="0"
        max="2"
        step="0.05"
        value="0"
        style="flex: 1"
      />
    </div>

    <!-- Suwak Ki_fuzzy -->
    <div
      style="
        width: 800px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        margin-bottom: 20px;
      "
    >
      <label style="width: 270px; margin-right: 10px">
        Wzmocnienie całkowania (Kif): <span id="kiFuzzyVal">0</span>
      </label>
      <input
        type="range"
        id="kiFuzzySlider"
        min="0"
        max="2"
        step="0.01"
        value="0"
        style="flex: 1"
      />
    </div>

    <hr style="width: 800px; margin-bottom: 20px" />

    <!-- Parametry obiektu i symulacji -->
    <h2 style="text-align: center; margin-top: 40px">
      Parametry obiektu i symulacji
    </h2>

    <!-- Suwak predkosci zadanej -->
    <div
      style="
        width: 800px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        margin-bottom: 20px;
      "
    >
      <label for="omegaSetSlider" style="width: 270px; margin-right: 10px">
        Prędkość zadana: <span id="omegaSetVal">0</span> rad/s
      </label>
      <input
        type="range"
        id="omegaSetSlider"
        min="0"
        max="20"
        step="0.1"
        value="0"
        style="flex: 1"
      />
    </div>

    <!-- Suwak wspolczynnika tarcia -->
    <div
      style="
        width: 800px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        margin-bottom: 20px;
      "
    >
      <label for="bSlider" style="width: 270px; margin-right: 10px">
        Współczynnik tarcia (b): <span id="bVal">0</span>
      </label>
      <input
        type="range"
        id="bSlider"
        min="0"
        max="2"
        step="0.1"
        value="0"
        style="flex: 1"
      />
    </div>

    <!-- Suwak zaklocen zewnetrznych-->
    <div
      style="
        width: 800px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        margin-bottom: 20px;
      "
    >
      <label for="disturbanceSlider" style="width: 270px; margin-right: 10px">
        Zakłócenia zewnętrzne: <span id="disturbanceVal">0</span> Nm
      </label>
      <input
        type="range"
        id="disturbanceSlider"
        min="0"
        max="2"
        step="0.1"
        value="0"
        style="flex: 1"
      />
    </div>

    <!-- Suwak masy kola -->
    <div
      style="
        width: 800px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        margin-bottom: 20px;
      "
    >
      <label for="massSlider" style="width: 270px; margin-right: 10px">
        Masa koła: <span id="massVal">1</span> kg
      </label>
      <input
        type="range"
        id="massSlider"
        min="1"
        max="20"
        step="1"
        value="1"
        style="flex: 1"
      />
    </div>

    <!-- Suwak promienia kola -->
    <div
      style="
        width: 800px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        margin-bottom: 20px;
      "
    >
      <label for="radiusSlider" style="width: 270px; margin-right: 10px">
        Promień koła: <span id="radiusVal">0.1</span> m
      </label>
      <input
        type="range"
        id="radiusSlider"
        min="0.1"
        max="2"
        step="0.1"
        value="0.1"
        style="flex: 1"
      />
    </div>

    <!-- Suwak momentu -->
    <div
      style="
        width: 800px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        margin-bottom: 20px;
      "
    >
      <label for="maxMomentSlider" style="width: 270px; margin-right: 10px">
        Moment: <span id="maxMomentVal">0</span> Nm
      </label>
      <input
        type="range"
        id="maxMomentSlider"
        min="0"
        max="100"
        step="1"
        value="0"
        style="flex: 1"
      />
    </div>

    <hr style="width: 800px; margin-bottom: 20px" />

    <!-- Przycisk uruchomienia symulacji -->
    <div
      style="
        width: 800px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        margin-bottom: 20px;
      "
    >
      <button style="width: 800px" id="startButton">Uruchom Symulację</button>
    </div>

    <div
      style="
        width: 800px;
        margin: 0 auto;
        margin-bottom: 20px;
        display: flex;
        gap: 30px;
      "
    >
      <div
        style="
          flex: 1;
          border: 1px solid #ddd;
          padding: 12px;
          border-radius: 8px;
        "
      >
        <h3 style="margin: 0 0 10px 0; text-align: center">Statystyki PID</h3>
        <p id="steadyStateErrorStat"></p>
        <p id="integralErrorStat"></p>
        <p id="integralTauAbsStat"></p>
      </div>
      <div
        style="
          flex: 1;
          border: 1px solid #ddd;
          padding: 12px;
          border-radius: 8px;
        "
      >
        <h3 style="margin: 0 0 10px 0; text-align: center">Statystyki Fuzzy</h3>
        <p id="steadyStateErrorStatFuzzy"></p>
        <p id="integralErrorStatFuzzy"></p>
        <p id="integralTauAbsStatFuzzy"></p>
      </div>
    </div>

    <!-- Canvas = taka kartka papieru dla Chart.js -->
    <!-- Wykres PID -->
    <h2 style="text-align: center">Wykres regulacji PID</h2>
    <div
      style="width: 1200px; margin: 0 auto; margin-bottom: 20px; display: flex"
    >
      <canvas
        id="chart"
        width="1200"
        height="400"
        style="display: block; margin: 0 auto"
      ></canvas>
    </div>

    <!-- Wykres Fuzzy -->
    <h2 style="text-align: center">Wykres regulacji rozmytej</h2>
    <div
      style="width: 1200px; margin: 0 auto; margin-bottom: 20px; display: flex"
    >
      <canvas
        id="chartFuzzy"
        width="1200"
        height="400"
        style="display: block; margin: 0 auto"
      ></canvas>
    </div>

    <!-- Uruchamiamy .js - bez tego strona bylaby martwa -->
    <script src="static/script.js"></script>
  </body>
</html>
